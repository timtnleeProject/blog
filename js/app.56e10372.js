(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)r=o[d],i[r]&&f.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={app:0},a=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),i=n.n(s);i.a},"0dd2":function(t,e,n){"use strict";var s=n("9517"),i=n.n(s);i.a},2991:function(t,e,n){"use strict";var s=n("cbae"),i=n.n(s);i.a},"2f0e":function(t,e,n){},"376d":function(t,e,n){"use strict";var s=n("3cc7"),i=n.n(s);i.a},"3cc7":function(t,e,n){},4562:function(t,e,n){},"4b8d":function(t,e,n){"use strict";var s=n("4562"),i=n.n(s);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("my-header",{staticClass:"my-header bg-main tx-light",on:{toggleBar:t.toggleSideBar}}),n("div",{staticClass:"container"},[n("loading",{attrs:{loaded:t.loaded}}),n("router-view",{staticClass:"content"}),n("my-footer")],1),n("div",{staticClass:"fixed-container bg-dark",class:{show:t.show},on:{click:t.closeSideBar}},[n("my-sidebar",{staticClass:"sidebar bg-dark"})],1)],1)},a=[],r=n("cebc"),o=(n("55dd"),n("28a5"),n("7f7f"),n("795b")),c=n.n(o),l=(n("ac6a"),n("5df3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("h2",{staticClass:"title",on:{click:t.toHome}},[t._v(t._s(t.settings.HEADER_TITLE))]),n("div",{staticClass:"subtitle"},[t._v(t._s(t.settings.HEADER_SUBTITLE))]),n("hamburger",{staticClass:"hamburger",nativeOn:{click:function(e){t.toggleBar(e)}}})],1)}),u=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hamburger"},t._l(3,function(t){return n("div",{key:"bar"+t,staticClass:"bar bg-light"})}),0)},f=[],v={},h=v,g=(n("376d"),n("2877")),p=Object(g["a"])(h,d,f,!1,null,"e8a1d0ea",null);p.options.__file="Hamburger.vue";var _=p.exports,m={components:{Hamburger:_},data:function(){return{}},computed:{settings:function(){return this.$store.state.settings}},methods:{toHome:function(){this.$router.push("/")},toggleBar:function(t){t.stopPropagation(),this.$emit("toggleBar")}}},b=m,w=(n("4b8d"),Object(g["a"])(b,l,u,!1,null,"4ecf3ca8",null));w.options.__file="Header.vue";var C=w.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[n("div",{staticClass:"title"},[t._v(t._s(t.settings.HEADER_TITLE))]),t._l(t.routes,function(e){return n("router-link",{key:e.name,staticClass:"tx-light",attrs:{to:e.path}},[t._v(t._s(e.name))])})],2)},x=[],k=n("2f62"),O=s["a"].extend({data:()=>{return{routes:[{name:"Home",path:"/"},{name:"Articles",path:"/search"},{name:"About me",path:"/about"}]}},computed:{...Object(k["b"])({settings:"settings"})}}),$=O,T=(n("f37e"),Object(g["a"])($,y,x,!1,null,"003b0f9c",null));T.options.__file="Sidebar.vue";var E=T.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer"},[n("div",{staticClass:"title"},[t._v(t._s(t.settings.FOOTER_TEXT))])])},S=[],A={data:function(){return{}},computed:{settings:function(){return this.$store.state.settings}}},P=A,M=(n("5d33"),Object(g["a"])(P,j,S,!1,null,"9ec8f908",null));M.options.__file="Footer.vue";var H=M.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loaded?t._e():n("div",{staticClass:"loading tx-main"},[n("div",[t._v("loading")]),t._l(3,function(t){return n("div",{key:t,staticClass:"dot bg-main",class:"dot"+t})})],2)},R=[],B={props:{loaded:{type:Boolean,default:!1}}},I=B,q=(n("a864"),Object(g["a"])(I,L,R,!1,null,"78668eca",null));q.options.__file="Loading.vue";var F=q.exports,D={name:"app",data:function(){return{show:!1,loaded:!1}},components:{MyHeader:C,MyFooter:H,MySidebar:E,Loading:F},created:function(){var t=this;window.console.log("[Init] Get articles' previews");var e=this.$get("./setting.js").then(function(e){t.$store.commit("setSettings",new Function(e)())}),n=this.$get("./list.json").then(function(e){t.$store.commit("setLists",JSON.parse(e))});c.a.all([e,n]).then(function(){var e={},n={},s=[],i=t.lists.articles.map(function(t){return e[t.name]={date:t.date,tags:t.tags},t.name});t.$getArticles(i).then(function(i){t.$store.commit("setPreviews",i.map(function(i){var a=i.content.split("\n").filter(function(t){return""!=t.trim()}),r=a.slice(1,1+t.settings.PREVIEW_LINE).join("\n"),o=e[i.name].tags;return o.forEach(function(t){n[t]||(n[t]=!0,s.push(t))}),{name:i.name,content:t.$markdown.render(r)+"</br>",date:new Date(e[i.name].date),tags:o.sort(),title:a[0].slice(-(a[0].length-2))}})),t.$store.commit("setTags",s),t.loaded=!0})})},computed:Object(r["a"])({},Object(k["b"])({settings:"settings",lists:"lists"})),methods:{toggleSideBar:function(){this.show=!this.show},closeSideBar:function(){this.show&&(this.show=!1)}}},N=D,X=(n("034f"),Object(g["a"])(N,i,a,!1,null,null,null));X.options.__file="App.vue";var Y=X.exports,G=n("5d73"),J=n.n(G),U=n("d4cd"),V=n.n(U),W={install:function(t){t.prototype.$markdown=new V.a,t.prototype.$get=function(t){return new c.a(function(e,n){var s=new XMLHttpRequest;s.open("GET",t),s.onreadystatechange=function(){200===this.status&&4===this.readyState?e(this.responseText):4===this.readyState&&n("Fetching ".concat(t," failed"))},s.send()})},t.prototype.$getArticles=function(t){var e=function(t){return new c.a(function(e,n){var s=new XMLHttpRequest;s.open("GET","./doc/".concat(t,".md")),s.onreadystatechange=function(){200===this.status&&4===this.readyState?e({name:t,content:this.responseText}):4===this.readyState&&n()},s.send()})},n=[],s=!0,i=!1,a=void 0;try{for(var r,o=J()(t);!(s=(r=o.next()).done);s=!0){var l=r.value;n.push(e(l))}}catch(u){i=!0,a=u}finally{try{s||null==o.return||o.return()}finally{if(i)throw a}}return c.a.all(n)}}},z=n("8c4f"),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center-max-view"},[n("div",[n("banner"),n("h2",{staticClass:"h tx-dark"},[t._v(t._s(t.settings.HOME_ARTICLE_TEXT))]),n("my-previews",{attrs:{max:t.settings.HOME_MAX_PREVIEW,previews:t.sorted_previews}}),n("router-link",{staticClass:"block last",attrs:{to:"/search"}},[t._v("> more articles")])],1)])},Q=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.previews,function(e,s){return n("div",{key:"preview"+s,staticClass:"preview block",on:{click:function(n){t.linkto({path:"/article/"+e.name})}}},[n("h3",{staticClass:"title b"},[t._v(t._s(e.title))]),n("div",{staticClass:"prev-area block"},[n("div",{staticClass:"plan-text line",domProps:{innerHTML:t._s(e.content)}}),n("div",{staticClass:"inner-block cover"})]),n("div",{staticClass:"line"},[n("div",{staticClass:"line b"},[t._v("date: "+t._s(t.preview_dates[s]))])]),n("div",{staticClass:"tags-container line"},[n("div",{staticClass:"line b"},[t._v("tags: ")]),t._l(e.tags,function(t){return n("tag",{key:e+"-tag"+t,staticClass:"line",attrs:{tag:t}})})],2)])}),0)},tt=[],et=(n("a481"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag",on:{click:function(e){e.stopPropagation(),t.linkto({path:"/search",query:{tag:t.tag}})}}},[n("div",{staticClass:"dot"}),n("div",{staticClass:"tag-name"},[t._v(t._s(t.tag))])])}),nt=[],st={props:["tag"],methods:{linkto:function(t){this.$router.push(t)}}},it=st,at=Object(g["a"])(it,et,nt,!1,null,null,null);at.options.__file="Tag.vue";var rt=at.exports,ot={props:["max","previews"],components:{Tag:rt},computed:Object(r["a"])({preview_dates:function(){return this.previews?this.previews.map(function(t){var e=t.date;return"".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate())}):[]}},Object(k["b"])({lists:"lists",settings:"settings"})),methods:{linkto:function(t){this.$router.replace(t)}}},ct=ot,lt=(n("e229"),Object(g["a"])(ct,Z,tt,!1,null,"f029cbbc",null));lt.options.__file="Previews.vue";var ut=lt.exports,dt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ft=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"banner"},[n("h3",{staticClass:"quote tx-main"},[t._v('"An apple a day, keeps doctors away."')]),n("img",{attrs:{src:"images/default/bird on water.jpg",alt:"",srcset:""}})])}],vt={},ht=vt,gt=(n("2991"),Object(g["a"])(ht,dt,ft,!1,null,"3104ae25",null));gt.options.__file="Banner.vue";var pt=gt.exports,_t={components:{Banner:pt,MyPreviews:ut},computed:Object(r["a"])({sorted_previews:function(){return this.previews.slice().sort(function(t,e){return e.date.getTime()-t.date.getTime()}).slice(0,this.max)}},Object(k["b"])({previews:"previews",settings:"settings"}))},mt=_t,bt=(n("b629"),Object(g["a"])(mt,K,Q,!1,null,"3995b032",null));bt.options.__file="Home.vue";var wt=bt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:function(e){t.toggleMenu(e)}}},[n("div",{staticClass:"tree",class:{show:t.show}},t._l(t.tree,function(e,s){return n("ul",{key:"h1"+e.name,staticClass:"h1-list"},[n("li",{class:{on:s===t.h1idx},on:{click:function(n){t.scrollTo(e.link)}}},[t._v(t._s(e.name))]),t._l(e.leaves,function(e,s){return n("ul",{key:"h2"+e.name,staticClass:"h2-list"},[n("li",{class:{on:s===t.h2idx},on:{click:function(n){t.scrollTo(e.link)}}},[t._v(t._s(e.name))]),t._l(e.leaves,function(e,i){return n("ul",{key:"h3"+e.name,staticClass:"h3-list",class:{expand:t.expand_all||s===t.h2idx}},[n("li",{class:{on:i===t.h3idx},on:{click:function(n){t.scrollTo(e.link)}}},[t._v(t._s(e.name))])])})],2)})],2)}),0),n("div",{staticClass:"menu-bar",on:{click:function(e){return e.stopPropagation(),function(){return t.show=!t.show}()}}},[n("span",[t._v("menu")])]),n("div",{staticClass:"center-max-view"},[n("div",{staticClass:"article-wrap"},[n("div",{staticClass:"tags-container"},[n("div",[t._v("tags: ")]),t._l(t.tags,function(t){return n("tag",{key:t,attrs:{tag:t}})})],2),n("div",{staticClass:"article",domProps:{innerHTML:t._s(t.content)}})])])])},yt=[],xt=(n("b54a"),n("7514"),{components:{Tag:rt},data:function(){return{name:"",content:"",tree:[],scrollY:0,expand_all:!1,sc_offset:100,h1idx:-1,h2idx:-1,h3idx:-1,show:!1}},created:function(){window.addEventListener("scroll",this.scroll)},destroyed:function(){window.removeEventListener("scroll",this.scroll)},mounted:function(){var t=this;this.name=this.$route.params.name,window.console.log('[Fetch] fetch article "'.concat(this.name,'"')),this.$get("./doc/".concat(this.name,".md")).then(function(e){t.content=t.$markdown.render(e),t.$nextTick(function(){window.Prism.highlightAll(),window.console.log("[Prism] syntax hightlight after fetching."),t.setLinksAttr(),t.generateMenu(),t.scroll()})})},computed:Object(r["a"])({tags:function(){var t=this,e=this.previews.find(function(e){return e.name===t.name});return e?e.tags:[]}},Object(k["b"])({previews:"previews"})),methods:{scroll:function(){this.scrollY=window.scrollY,this.calcScrollPos()},calcScrollPos:function(){if(0!==this.tree.length){var t,e,n,s=-1,i=-1,a=-1;if(t=this.tree.map(function(t){return t.link.offsetTop}),s=this.getScrollIdx(t),-1!=s&&this.tree[s].leaves.length>0&&(e=this.tree[s].leaves.map(function(t){return t.link.offsetTop}),i=this.getScrollIdx(e)),-1!=i){var r=this.tree[s].leaves[i];n=r.leaves.map(function(t){return t.link.offsetTop}),a=this.getScrollIdx(n)}this.h1idx=s,this.h2idx=i,this.h3idx=a}},getScrollIdx:function(t){var e=this,n=t.reduce(function(t,n){return t+(e.scrollY>=n)},0);return Math.max(n-1,0)},setLinksAttr:function(){this.$el.querySelectorAll("a").forEach(function(t){t.setAttribute("target","_blank")}),window.console.log("[App] set links attr.")},generateMenu:function(){var t=[],e=1,n=t;this.$el.querySelectorAll("h1,h2,h3").forEach(function(s){var i=s.innerText,a=s.nodeName,r=s;if("H1"===a)1!=e&&(n=t,e=1),n.push({name:i,leaves:[],link:r});else if("H2"===a&&e>0)2!=e&&(n=t[t.length-1],e=2),n.leaves.push({name:i,leaves:[],link:r});else if("H3"===a&&e>1){if(3!=e){var o=t[t.length-1].leaves;n=t[t.length-1].leaves[o.length-1],e=3}n.leaves.push({name:i,link:r})}}),this.tree=t,window.console.log("[App] generate menu.")},scrollTo:function(t){window.scrollTo(0,t.offsetTop+1),this.scroll()},toggleMenu:function(t){this.$el.querySelector(".tree").contains(t.target)||this.show&&(this.show=!1)}}}),kt=xt,Ot=(n("0dd2"),Object(g["a"])(kt,Ct,yt,!1,null,"7519a5df",null));Ot.options.__file="Article.vue";var $t=Ot.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center-max-view"},[n("div",[n("h3",{staticClass:"h"},[t._v("Search")]),n("div",{staticClass:"row tags-container filter"},[n("div",[t._v("rule:")]),n("div",{staticClass:"icon date-filter tx-main",on:{click:function(){return t.desc=!t.desc}}},[n("div",{staticClass:"tri",class:{desc:t.desc}}),n("div",[t._v("date")])]),n("div",{staticClass:"icon tx-main",on:{click:t.switch_cond}},[t._v("\n      "+t._s(this.condition)+"\n      ")])]),n("div",{staticClass:"row tags-container"},[n("div",[t._v("selected:")]),0===t.select_tag_count?n("div",{staticClass:"tag default-tag"},[t._v("click tags below to filter")]):t._e(),t._l(t.sorted_selected_tags,function(e){return n("div",{key:e,staticClass:"tag",on:{click:function(n){t.unselect_tag(e)}}},[n("div",{staticClass:"dot"}),n("div",{staticClass:"tag-name"},[t._v(t._s(e))]),n("img",{staticClass:"cancel",attrs:{src:"icons/cancel.png",alt:"not found"}})])})],2),n("div",{staticClass:"row tags-container"},[n("div",[t._v("tags:")]),t._l(t.sorted_tags,function(e){return n("div",{key:e,staticClass:"tag light",class:{selected:t.selected_tags[e]},on:{click:function(n){t.select_tag(e)}}},[n("div",{staticClass:"dot"}),n("div",{staticClass:"tag-name"},[t._v(t._s(e))])])})],2),n("h3",{staticClass:"h"},[t._v("Articles")]),n("previews",{attrs:{previews:t.filtered_previews,max:t.filtered_previews.length}})],1)])},Et=[],jt=n("a4bb"),St=n.n(jt),At={beforeRouteUpdate:function(t,e,n){var s=t.query.tag;this.selected_tags={},s&&this.$set(this.selected_tags,s,!0),n()},created:function(){var t=this.$route.query.tag;t&&this.$set(this.selected_tags,t,!0)},data:function(){return{desc:!0,selected_tags:{},condition:"OR"}},components:{Previews:ut},computed:Object(r["a"])({filtered_previews:function(){var t=this;return this.previews.slice().sort(function(e,n){return(n.date.getTime()-e.date.getTime())*(t.desc?1:-1)}).filter(this.find_tags())},select_tag_count:function(){return St()(this.selected_tags).length},sorted_tags:function(){return this.tags.slice().sort()},sorted_selected_tags:function(){var t=[];for(var e in this.selected_tags)t.push(e);return t.sort()}},Object(k["b"])({previews:"previews",tags:"tags"})),methods:{switch_cond:function(){"OR"===this.condition?this.condition="AND":this.condition="OR"},select_tag:function(t){this.$set(this.selected_tags,t,!0)},unselect_tag:function(t){this.$delete(this.selected_tags,t)},find_tags:function(){var t=this;if(0===this.select_tag_count)return function(){return!0};var e=function(e){var n=e.tags,s=!0,i=!1,a=void 0;try{for(var r,o=J()(n);!(s=(r=o.next()).done);s=!0){var c=r.value;if(t.selected_tags[c])return!0}}catch(l){i=!0,a=l}finally{try{s||null==o.return||o.return()}finally{if(i)throw a}}return!1},n=function(e){var n={};for(var s in e.tags.forEach(function(t){return n[t]=!0}),t.selected_tags)if(!n[s])return!1;return!0};return"OR"===this.condition?e:n}}},Pt=At,Mt=(n("fdba"),Object(g["a"])(Pt,Tt,Et,!1,null,"4f3ec452",null));Mt.options.__file="Search.vue";var Ht=Mt.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center-max-view flex-col"},[n("div",{staticClass:"article",domProps:{innerHTML:t._s(t.content)}}),n("div",{staticClass:"contact"},t._l(t.settings.CONTACT,function(t){return n("a",{key:t.src,attrs:{href:t.href,target:"_blank"}},[n("img",{staticClass:"icon",attrs:{src:t.src}})])}),0)])},Rt=[],Bt={data:function(){return{content:""}},created:function(){this.getSource()},computed:Object(r["a"])({},Object(k["b"])({lists:"lists",settings:"settings"})),methods:{getSource:function(){var t=this;this.lists.about&&this.$get("doc/".concat(this.lists.about,".md")).then(function(e){t.content=t.$markdown.render(e)})}},watch:{lists:function(){this.getSource()}}},It=Bt,qt=(n("b7eb"),Object(g["a"])(It,Lt,Rt,!1,null,"5636c75b",null));qt.options.__file="About.vue";var Ft=qt.exports;s["a"].use(z["a"]);var Dt=[{path:"/",component:wt},{path:"/article/:name",component:$t},{path:"/search",component:Ht},{path:"/about",component:Ft}],Nt=new z["a"]({routes:Dt,scrollBehavior:function(){return{x:0,y:0}}}),Xt=Nt;s["a"].use(k["a"]);var Yt=new k["a"].Store({state:{previews:[],tags:[],lists:{},settings:{}},mutations:{setPreviews:function(t,e){t.previews=e},setTags:function(t,e){t.tags=e},setLists:function(t,e){t.lists=e},setSettings:function(t,e){t.settings=e}}}),Gt=Yt;n("99f6");s["a"].config.productionTip=!1,s["a"].use(W),new s["a"]({render:function(t){return t(Y)},router:Xt,store:Gt}).$mount("#app")},"5d33":function(t,e,n){"use strict";var s=n("da71"),i=n.n(s);i.a},"62ff":function(t,e,n){},"64a9":function(t,e,n){},"6d27":function(t,e,n){},8747:function(t,e,n){},"8f08":function(t,e,n){},9517:function(t,e,n){},"99f6":function(t,e,n){},a864:function(t,e,n){"use strict";var s=n("8747"),i=n.n(s);i.a},a897:function(t,e,n){},b629:function(t,e,n){"use strict";var s=n("8f08"),i=n.n(s);i.a},b7eb:function(t,e,n){"use strict";var s=n("6d27"),i=n.n(s);i.a},cbae:function(t,e,n){},da71:function(t,e,n){},e229:function(t,e,n){"use strict";var s=n("2f0e"),i=n.n(s);i.a},f37e:function(t,e,n){"use strict";var s=n("a897"),i=n.n(s);i.a},fdba:function(t,e,n){"use strict";var s=n("62ff"),i=n.n(s);i.a}});
//# sourceMappingURL=app.56e10372.js.map