{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./src/views/Article.vue?a62b","webpack:///src/views/Article.vue","webpack:///./src/views/Article.vue?9fff","webpack:///./src/views/Article.vue","webpack:///./src/views/Article.vue?d946","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js"],"names":["ctx","__webpack_require__","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","cof","Array","isArray","arg","$export","fails","defined","quot","createHTML","string","tag","attribute","value","S","String","p1","replace","NAME","exec","P","F","test","toLowerCase","split","render","_vm","this","_h","$createElement","_c","_self","on","click","$event","toggleMenu","attrs","loaded","staticClass","class","show","_l","h1","j","key","h1idx","scrollTo","link","_v","_s","name","h2","i","h2idx","h3","k","expand","expand_all","h3idx","stopPropagation","src","alt","_e","domProps","innerHTML","content","staticRenderFns","Articlevue_type_script_lang_js_","components","Tag","Loading","data","tree","scrollY","created","window","addEventListener","scroll","destroyed","removeEventListener","mounted","_this","$route","params","console","log","concat","$get","then","$markdown","$nextTick","Prism","highlightAll","setLinksAttr","generateMenu","computed","Object","objectSpread","metadata","_this2","previews","find","prev","tags","pinned","vuex_esm","methods","calcScrollPos","h1top","h2top","h3top","sc_offset","getScrollOffset","mappingTop","h","offsetTop","map","getScrollIdx","leaves","leaf","tops","_this3","idx","reduce","acc","curr","Math","max","document","querySelector","getBoundingClientRect","height","$el","querySelectorAll","forEach","el","setAttribute","depth","indecator","innerText","nodeName","e","contains","target","views_Articlevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Article_vue_vue_type_style_index_0_id_3fdc2ace_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Article_vue_vue_type_style_index_0_id_3fdc2ace_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","$find","KEY","forced","arguments","url","speciesConstructor","original","isObject","SPECIES","C","constructor","prototype"],"mappings":"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","file":"js/chunk-4f071eda.ca37301b.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"click\":function($event){_vm.toggleMenu($event)}}},[_c('loading',{attrs:{\"loaded\":_vm.loaded}}),_c('div',{staticClass:\"tree\",class:{show:_vm.show}},_vm._l((_vm.tree),function(h1,j){return _c('ul',{key:(\"h1\" + (h1.name)),staticClass:\"h1-list\"},[_c('li',{class:{on:j===_vm.h1idx},on:{\"click\":function($event){_vm.scrollTo(h1.link)}}},[_vm._v(_vm._s(h1.name))]),_vm._l((h1.leaves),function(h2,i){return _c('ul',{key:(\"h2\" + (h2.name)),staticClass:\"h2-list\"},[_c('li',{class:{on:i===_vm.h2idx},on:{\"click\":function($event){_vm.scrollTo(h2.link)}}},[_vm._v(_vm._s(h2.name))]),_vm._l((h2.leaves),function(h3,k){return _c('ul',{key:(\"h3\" + (h3.name)),staticClass:\"h3-list\",class:{expand:_vm.expand_all || i===_vm.h2idx}},[_c('li',{class:{on:k===_vm.h3idx},on:{\"click\":function($event){_vm.scrollTo(h3.link)}}},[_vm._v(_vm._s(h3.name))])])})],2)})],2)}),0),_c('div',{staticClass:\"menu-bar\",on:{\"click\":function($event){$event.stopPropagation();return (function (){ return _vm.show=!_vm.show; })($event)}}},[_c('span',[_vm._v(\"menu\")])]),_c('div',{staticClass:\"center-max-view\"},[_c('div',{staticClass:\"article-wrap\"},[_c('div',{staticClass:\"tags-container\"},[(_vm.pinned)?_c('img',{staticClass:\"pinned\",attrs:{\"src\":\"icons/pinned.png\",\"alt\":\"\"}}):_vm._e(),_c('div',[_vm._v(\"tags: \")]),_vm._l((_vm.tags),function(tag){return _c('tag',{key:tag,attrs:{\"tag\":tag}})})],2),_c('div',{staticClass:\"article\",domProps:{\"innerHTML\":_vm._s(_vm.content)}})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div @click=\"toggleMenu($event)\">\r\n    <loading :loaded=\"loaded\"></loading>\r\n    <div class=\"tree\" :class=\"{show:show}\">\r\n      <ul v-for=\"(h1, j) in tree\" :key=\"`h1${h1.name}`\" class=\"h1-list\">\r\n          <li :class=\"{on:j===h1idx}\" @click=\"scrollTo(h1.link)\">{{h1.name}}</li>\r\n          <ul v-for=\"(h2, i) in h1.leaves\" :key=\"`h2${h2.name}`\" class=\"h2-list\">\r\n            <li :class=\"{on:i===h2idx}\" @click=\"scrollTo(h2.link)\">{{h2.name}}</li>\r\n            <ul v-for=\"(h3,k) in h2.leaves\" :key=\"`h3${h3.name}`\" class=\"h3-list\" :class=\"{expand:expand_all || i===h2idx}\">\r\n              <li :class=\"{on:k===h3idx}\" @click=\"scrollTo(h3.link)\">{{h3.name}}</li>\r\n            </ul>\r\n        </ul>\r\n      </ul>\r\n    </div>\r\n    <div class=\"menu-bar\" @click.stop=\"()=>show=!show\"><span>menu</span></div>\r\n    <div class=\"center-max-view\">\r\n      <div class=\"article-wrap\">\r\n        <div class=\"tags-container\">\r\n          <img v-if=\"pinned\" src=\"icons/pinned.png\" alt=\"\" class=\"pinned\">\r\n          <div>tags: </div>\r\n          <tag v-for=\"tag in tags\" :key=\"tag\" :tag=\"tag\"></tag>\r\n        </div>\r\n        <div class=\"article\" v-html=\"content\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Tag from '../components/Tag.vue'\r\nimport Loading from '../components/Loading.vue'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    Tag,\r\n    Loading\r\n  },\r\n  data: ()=>{\r\n    return {\r\n      name: '',\r\n      content: '',\r\n      tree: [],\r\n      loaded: false,\r\n      scrollY: 0,\r\n      expand_all: false,\r\n      h1idx: -1,\r\n      h2idx: -1,\r\n      h3idx: -1,\r\n      show: false\r\n    }\r\n  },\r\n  created(){\r\n    window.addEventListener('scroll',this.scroll)\r\n  },\r\n  destroyed(){\r\n    window.removeEventListener('scroll', this.scroll)\r\n  },\r\n  mounted(){\r\n    this.name = this.$route.params.name\r\n    window.console.log(`[Fetch] fetch article \"${this.name}\"`)\r\n    this.$get(`./doc/${this.name}.md`).then(res=>{\r\n      this.content = this.$markdown.render(res)\r\n      this.$nextTick(()=>{\r\n        window.Prism.highlightAll()\r\n        window.console.log('[Prism] syntax hightlight after fetching.')\r\n        this.setLinksAttr()\r\n        this.generateMenu()\r\n        this.scroll()\r\n        this.loaded = true\r\n      })\r\n    })\r\n  },\r\n  computed: {\r\n    metadata() {\r\n      return this.previews.find(prev=>prev.name===this.name)\r\n    },\r\n    tags() {\r\n      return (this.metadata)?this.metadata.tags:[]\r\n    },\r\n    pinned() {\r\n      return (this.metadata)?this.metadata.pinned:false\r\n    },\r\n    ...mapState({\r\n      previews: 'previews'\r\n    })\r\n  },\r\n  methods: {\r\n    scroll(){\r\n      this.scrollY = window.scrollY\r\n      this.calcScrollPos()\r\n    },\r\n    calcScrollPos() {\r\n      if(this.tree.length===0) return\r\n      \r\n      let sc_offset = this.getScrollOffset()\r\n      let h1top,h2top,h3top\r\n      let h1idx=-1,h2idx =-1,h3idx = -1\r\n      const mappingTop = (h) => h.link.offsetTop - sc_offset\r\n      h1top = this.tree.map(mappingTop)\r\n      h1idx = this.getScrollIdx(h1top)\r\n      if(h1idx!=-1 && this.tree[h1idx].leaves.length>0) {\r\n        h2top = this.tree[h1idx].leaves.map(mappingTop)\r\n        h2idx = this.getScrollIdx(h2top)\r\n      }\r\n      if(h2idx!=-1) {\r\n        const leaf = this.tree[h1idx].leaves[h2idx]\r\n        h3top = leaf.leaves.map(mappingTop)\r\n        h3idx = this.getScrollIdx(h3top)\r\n      }\r\n      this.h1idx = h1idx\r\n      this.h2idx = h2idx\r\n      this.h3idx = h3idx\r\n    },\r\n    getScrollIdx(tops){\r\n      let idx = tops.reduce((acc, curr) => acc + (this.scrollY+1>=curr) , 0)\r\n      return Math.max(idx-1,0)\r\n    },\r\n    getScrollOffset() {\r\n      return document.querySelector('.my-header').getBoundingClientRect().height\r\n    },\r\n    setLinksAttr(){\r\n      this.$el.querySelectorAll('a').forEach(el=>{\r\n        el.setAttribute('target','_blank')\r\n      })\r\n      window.console.log('[App] set links attr.')\r\n    },\r\n    generateMenu(){\r\n      const tree = []\r\n      /**\r\n       * [{\r\n       *   name: 'xx',\r\n       *   leaves: []\r\n       * }]\r\n       */\r\n      let depth = 1\r\n      let indecator = tree\r\n      this.$el.querySelectorAll(\"h1,h2,h3\").forEach(el=>{\r\n        const name = el.innerText\r\n        const nodeName = el.nodeName\r\n        const link = el\r\n        if(nodeName==='H1') {\r\n          if(depth != 1){\r\n            indecator = tree\r\n            depth = 1\r\n          } \r\n          indecator.push({name, leaves:[], link})\r\n        } else if(nodeName==='H2' && depth>0) {\r\n          if(depth!= 2) {\r\n            indecator = tree[tree.length-1]\r\n            depth = 2\r\n          }\r\n          indecator.leaves.push({name, leaves:[], link})\r\n        } else if(nodeName==='H3'&&depth>1) {\r\n          if(depth!= 3) {\r\n            const leaf = tree[tree.length-1].leaves\r\n            indecator = tree[tree.length-1].leaves[leaf.length-1]\r\n            depth = 3\r\n          }\r\n          indecator.leaves.push({name, link})\r\n        }\r\n      })\r\n      this.tree = tree\r\n      window.console.log('[App] generate menu.')\r\n    },\r\n    scrollTo(el){\r\n      let sc_offset = this.getScrollOffset()\r\n      window.scrollTo(0,el.offsetTop - sc_offset)\r\n      this.scroll()\r\n    },\r\n    toggleMenu(e){\r\n      if(this.$el.querySelector('.tree').contains(e.target)) return\r\n      if(this.show) this.show=false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'Style';\r\n.article-wrap {\r\n  overflow-x: scroll;\r\n  display: block;\r\n  margin-left:$tree-width;\r\n}\r\n.tree {\r\n  position: fixed;\r\n  top: 90px; /* header height + 10px*/\r\n  left: 0;\r\n  padding: 10px;\r\n  z-index: 100;\r\n  max-height: 80vh;\r\n  box-sizing: border-box;\r\n  width: $tree-width;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n}\r\n.menu-bar {\r\n  position: fixed;\r\n  display: none;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px solid gray;\r\n  color: gray;\r\n  border-radius: 10px;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  z-index: 100;\r\n  height: 30px;\r\n  width: 50px;\r\n  box-sizing: border-box;\r\n  box-shadow: 1px 1px 1px gray;\r\n  bottom: 20px;\r\n  right: 20px;\r\n}\r\n@media screen and (max-width: $md){\r\n  .tree {\r\n    display: none;\r\n    background-color: white;\r\n    left: initial;\r\n    top: initial;\r\n    border: 1px solid gray;\r\n    border-radius: 6px;\r\n    box-shadow: inset 1px 1px 2px lightgray;\r\n    right: 20px;\r\n    bottom: 50px;\r\n  }\r\n  .tree.show{\r\n    display: block;\r\n  }\r\n  .menu-bar {\r\n    display: flex;\r\n  }\r\n  .article-wrap {\r\n    margin-left: 0px;\r\n  }\r\n}\r\n\r\n.h3-list {\r\n  display: none;\r\n}\r\n.h3-list.expand {\r\n  display: block;\r\n}\r\n.on {\r\n  font-weight: bold;\r\n  color: black;\r\n}\r\n.tree {\r\n  ul,li {\r\n    font-size: 0.86rem;\r\n    list-style: none;\r\n    box-sizing: border-box;\r\n  }\r\n  ul {\r\n    padding: 2px 10px;\r\n  }\r\n  li {\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=3fdc2ace&scoped=true&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=3fdc2ace&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fdc2ace\",\n  null\n  \n)\n\ncomponent.options.__file = \"Article.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=3fdc2ace&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=3fdc2ace&lang=scss&scoped=true&\"","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n"],"sourceRoot":""}