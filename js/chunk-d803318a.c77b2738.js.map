{"version":3,"sources":["webpack:///./src/views/Search.vue?b3b9","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?536d","webpack:///./src/views/Search.vue","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/assign.js","webpack:///./node_modules/core-js/library/fn/object/assign.js","webpack:///./node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/core-js/library/modules/es6.object.assign.js","webpack:///./src/views/Search.vue?b3fd"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","toTop","_v","_e","directives","name","rawName","value","expression","attrs","type","domProps","input","$event","target","composing","search_title","src","alt","desc","class","switch_cond","_s","condition","select_tag_count","_l","tag","key","unselect_tag","tags_count","selected","selected_tags","select_tag","filtered_previews","length","previews","max","staticRenderFns","Searchvue_type_script_lang_js_","beforeRouteUpdate","to","_","next","query_tags","query","created","$route","window","addEventListener","scroll","mounted","destroyed","removeEventListener","data","fixed","components","Previews","computed","Object","objectSpread","exist","t","tags","indexOf","_this","slice","filter","find_title","sort","a","b","date","getTime","find_tags","keys_default","sorted_tags","sorted_selected_tags","push","vuex_esm","methods","$router","path","assign_default","_this2","trim","prev","words","split","word","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","done","title","toLowerCase","err","return","_this3","or_filter","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","and_filter","prev_tags","forEach","pos","$el","querySelector","getBoundingClientRect","bottom","scrollTo","top","left","behavior","views_Searchvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","module","exports","__webpack_require__","assign","getKeys","gOPS","pIE","toObject","IObject","$assign","A","B","S","Symbol","K","k","keys","join","source","T","aLen","arguments","index","getSymbols","f","isEnum","concat","j","call","$export","F","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Search_vue_vue_type_style_index_0_id_203535c6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Search_vue_vue_type_style_index_0_id_203535c6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-d803318a.c77b2738.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"center-max-view\"},[_c('div',[(_vm.fixed)?_c('div',{staticClass:\"search-bar tx-main\",on:{\"click\":_vm.toTop}},[_c('div',[_vm._v(\"search bar\")]),_c('div',{staticClass:\"tri\"})]):_vm._e(),_c('div',{staticClass:\"search-area\"},[_c('h3',{staticClass:\"h\"},[_vm._v(\"Search\")]),_c('div',{staticClass:\"row tags-container\"},[_c('div',[_vm._v(\"title:\")]),_c('div',{staticClass:\"input-wrap\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search_title),expression:\"search_title\"}],staticClass:\"search-input\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.search_title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search_title=$event.target.value}}}),_c('img',{attrs:{\"src\":\"icons/cancel.png\",\"alt\":\"\"},on:{\"click\":function (){_vm.search_title=''}}})])]),_c('div',{staticClass:\"row tags-container\"},[_c('div',[_vm._v(\"tags rule:\")]),_c('div',{staticClass:\"icon date-filter tx-main\",on:{\"click\":function (){ return _vm.desc=!_vm.desc; }}},[_c('div',{staticClass:\"tri\",class:{desc:_vm.desc}}),_c('div',[_vm._v(\"date\")])]),_c('div',{staticClass:\"icon tx-main\",on:{\"click\":_vm.switch_cond}},[_vm._v(_vm._s(this.condition))])]),_c('div',{staticClass:\"row tags-container\"},[_c('div',[_vm._v(\"selected:\")]),(_vm.select_tag_count===0)?_c('div',{staticClass:\"tag default-tag\"},[_vm._v(\"click tags below to filter\")]):_vm._e(),_vm._l((_vm.sorted_selected_tags),function(tag){return _c('div',{key:tag,staticClass:\"tag\",on:{\"click\":function($event){_vm.unselect_tag(tag)}}},[_c('div',{staticClass:\"dot\"}),_c('div',{staticClass:\"tag-name\"},[_vm._v(_vm._s(tag)+\" (\"+_vm._s(_vm.tags_count[tag])+\")\")]),_c('img',{staticClass:\"cancel\",attrs:{\"src\":\"icons/cancel.png\",\"alt\":\"not found\"}})])})],2),_c('div',{staticClass:\"row tags-container\"},[_c('div',[_vm._v(\"tags:\")]),_vm._l((_vm.sorted_tags),function(tag){return _c('div',{key:tag,staticClass:\"tag light\",class:{selected:_vm.selected_tags[tag]},on:{\"click\":function($event){_vm.select_tag(tag)}}},[_c('div',{staticClass:\"dot\"}),_c('div',{staticClass:\"tag-name\"},[_vm._v(_vm._s(tag)+\" (\"+_vm._s(_vm.tags_count[tag])+\")\")])])})],2)]),_c('h3',{staticClass:\"h\"},[_vm._v(\"Articles\")]),_c('small',[_vm._v(\"filtered: \"+_vm._s(_vm.filtered_previews.length)+\" total: \"+_vm._s(_vm.previews.length))]),(_vm.filtered_previews.length===0)?_c('div',{staticClass:\"ept-block\"},[_vm._v(\"No matching article\")]):_vm._e(),_c('previews',{attrs:{\"previews\":_vm.filtered_previews,\"max\":_vm.filtered_previews.length}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"center-max-view\">\r\n    <div>\r\n      <div class=\"search-bar tx-main\" v-if=\"fixed\" @click=\"toTop\">\r\n        <div>search bar</div>\r\n        <div class=\"tri\"></div>\r\n      </div>\r\n      <div class=\"search-area\">\r\n        <h3 class=\"h\">Search</h3>\r\n        <div class=\"row tags-container\">\r\n          <div>title:</div>\r\n          <div class=\"input-wrap\">\r\n            <input type=\"text\" class=\"search-input\" v-model=\"search_title\">\r\n            <img src=\"icons/cancel.png\" alt @click=\"()=>{search_title=''}\">\r\n          </div>\r\n        </div>\r\n        <div class=\"row tags-container\">\r\n          <div>tags rule:</div>\r\n          <div class=\"icon date-filter tx-main\" @click=\"()=>desc=!desc\">\r\n            <div class=\"tri\" :class=\"{desc:desc}\"></div>\r\n            <div>date</div>\r\n          </div>\r\n          <div class=\"icon tx-main\" @click=\"switch_cond\">{{this.condition}}</div>\r\n        </div>\r\n        <div class=\"row tags-container\">\r\n          <div>selected:</div>\r\n          <div class=\"tag default-tag\" v-if=\"select_tag_count===0\">click tags below to filter</div>\r\n          <div\r\n            v-for=\"tag in sorted_selected_tags\"\r\n            :key=\"tag\"\r\n            class=\"tag\"\r\n            @click=\"unselect_tag(tag)\"\r\n          >\r\n            <div class=\"dot\"></div>\r\n            <div class=\"tag-name\">{{tag}} ({{tags_count[tag]}})</div>\r\n            <img class=\"cancel\" src=\"icons/cancel.png\" alt=\"not found\">\r\n          </div>\r\n        </div>\r\n        <div class=\"row tags-container\">\r\n          <div>tags:</div>\r\n          <div\r\n            v-for=\"tag in sorted_tags\"\r\n            :key=\"tag\"\r\n            class=\"tag light\"\r\n            @click=\"select_tag(tag)\"\r\n            :class=\"{selected:selected_tags[tag]}\"\r\n          >\r\n            <div class=\"dot\"></div>\r\n            <div class=\"tag-name\">{{tag}} ({{tags_count[tag]}})</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <h3 class=\"h\">Articles</h3>\r\n      <small>filtered: {{filtered_previews.length}} total: {{previews.length}}</small>\r\n      <div class=\"ept-block\" v-if=\"filtered_previews.length===0\">No matching article</div>\r\n      <previews :previews=\"filtered_previews\" :max=\"filtered_previews.length\"></previews>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Previews from \"../components/Previews.vue\"\r\nimport { mapState } from \"vuex\"\r\n\r\nexport default {\r\n  beforeRouteUpdate(to, _, next) {\r\n    this.query_tags = to.query\r\n    next()\r\n  },\r\n  created(){\r\n    this.query_tags = this.$route.query\r\n    window.addEventListener('scroll',this.scroll)\r\n  },\r\n  mounted(){\r\n    this.scroll()\r\n  },\r\n  destroyed(){\r\n    window.removeEventListener('scroll', this.scroll)\r\n  },\r\n  data: () => {\r\n    return {\r\n      desc: true,\r\n      query_tags: {},\r\n      search_title: \"\",\r\n      condition: \"OR\",\r\n      fixed: false,\r\n    }\r\n  },\r\n  components: {\r\n    Previews\r\n  },\r\n  computed: {\r\n    selected_tags() {\r\n      //check query tags exist in available tags\r\n      const exist = {}\r\n      for (let t in this.query_tags) {\r\n        if (this.tags.indexOf(t) != -1) exist[t] = true\r\n      }\r\n      return exist\r\n    },\r\n    filtered_previews() {\r\n      return this.previews\r\n        .slice()\r\n        .filter(this.find_title())\r\n        .sort(\r\n          (a, b) => (b.date.getTime() - a.date.getTime()) * (this.desc ? 1 : -1)\r\n        )\r\n        .filter(this.find_tags())\r\n    },\r\n    select_tag_count() {\r\n      return Object.keys(this.selected_tags).length\r\n    },\r\n    sorted_tags() {\r\n      return this.tags.slice().sort()\r\n    },\r\n    sorted_selected_tags() {\r\n      const tags = []\r\n      for (let tag in this.selected_tags) {\r\n        tags.push(tag)\r\n      }\r\n      return tags.sort()\r\n    },\r\n    ...mapState({\r\n      previews: \"previews\",\r\n      tags_count: \"tags_count\",\r\n      tags: \"tags\"\r\n    })\r\n  },\r\n  methods: {\r\n    switch_cond() {\r\n      if (this.condition === \"OR\") this.condition = \"AND\"\r\n      else this.condition = \"OR\"\r\n    },\r\n    select_tag(tag) {\r\n      const query = {}\r\n      query[tag] = true\r\n      this.$router.push({\r\n        path: \"/search\",\r\n        query: Object.assign(query, this.selected_tags)\r\n      })\r\n    },\r\n    unselect_tag(tag) {\r\n      const query = Object.assign({}, this.selected_tags)\r\n      delete query[tag]\r\n      this.$router.push({\r\n        path: \"/search\",\r\n        query\r\n      })\r\n    },\r\n    find_title() {\r\n      if (this.search_title.trim() === \"\") return () => true // if no title search, find all\r\n      return prev => {\r\n        const words = this.search_title.split(\" \").filter(word => word != \"\")\r\n        for (let word of words) {\r\n          if (prev.title.toLowerCase().indexOf(word.toLowerCase()) != -1)\r\n            return true\r\n        }\r\n        return false\r\n      }\r\n    },\r\n    find_tags() {\r\n      if (this.select_tag_count === 0) return () => true // if no tags selected, find all\r\n      const or_filter = prev => {\r\n        const tags = prev.tags\r\n        for (let tag of tags) {\r\n          if (this.selected_tags[tag]) return true\r\n        }\r\n        return false\r\n      }\r\n      const and_filter = prev => {\r\n        const prev_tags = {}\r\n        prev.tags.forEach(t => (prev_tags[t] = true))\r\n        for (let tag in this.selected_tags) {\r\n          if (!prev_tags[tag]) return false\r\n        }\r\n        return true\r\n      }\r\n      return this.condition === \"OR\" ? or_filter : and_filter\r\n    },\r\n    scroll() {\r\n      const pos = this.$el.querySelector('.search-area').getBoundingClientRect()\r\n      if(pos.bottom<0) this.fixed = true\r\n      else this.fixed = false\r\n    },\r\n    toTop() {\r\n      window.scrollTo({\r\n        top:0,\r\n        left:0,\r\n        behavior: 'smooth' \r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'Style';\r\n.search-bar {\r\n  position: fixed;\r\n  margin: 0;\r\n  padding: 10px 15px;\r\n  top: 0px;\r\n  left: 0;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  background-color: white;\r\n  z-index: 100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-shadow: 1px 1px 2px;\r\n  cursor: pointer;\r\n  .tri {\r\n    border-top: 0px solid transparent;\r\n    border-left: 7px solid transparent;\r\n    border-bottom: 10px solid;\r\n    border-right: 7px solid transparent;\r\n    margin-left: 5px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: $lg){\r\n  .search-bar {\r\n    top: 50px;\r\n  }\r\n}\r\n.row {\r\n  padding: 10px;\r\n  border-bottom: 1px solid lightgray;\r\n}\r\n.icon {\r\n  border-radius: 3px;\r\n  margin-right: 5px;\r\n  border: 1px solid;\r\n  padding: 3px;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  opacity: 0.7;\r\n  min-width: 4em;\r\n  text-align: center;\r\n}\r\n.icon {\r\n  opacity: 1;\r\n}\r\n.input-wrap {\r\n  position: relative;\r\n  img {\r\n    position: absolute;\r\n    display: block;\r\n    width: 1rem;\r\n    height: 1rem;\r\n    top: 50%;\r\n    right: 5px;\r\n    transform: translateY(-50%);\r\n    cursor: pointer;\r\n  }\r\n}\r\n.search-input {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  max-width: 180px;\r\n  padding: 6px 1.5rem 6px 6px;\r\n  border-radius: 5px;\r\n  border: 1px solid $color-sub;\r\n  box-shadow: inset 1px 1px 3px #cccccc;\r\n}\r\n.ept-block {\r\n  padding: 10px;\r\n  color: main;\r\n}\r\n.search-input:focus{\r\n  outline: none;\r\n}\r\n.light {\r\n  opacity: 0.7;\r\n}\r\n.default-tag {\r\n  cursor: auto;\r\n}\r\n.selected {\r\n  opacity: 0.2;\r\n  cursor: default;\r\n}\r\n.date-filter {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  .tri {\r\n    border-top: 0px solid transparent;\r\n    border-left: 5px solid transparent;\r\n    border-bottom: 8px solid;\r\n    border-right: 5px solid transparent;\r\n  }\r\n  .tri.desc {\r\n    transform: rotate(180deg);\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=203535c6&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=203535c6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"203535c6\",\n  null\n  \n)\n\ncomponent.options.__file = \"Search.vue\"\nexport default component.exports","module.exports = require(\"core-js/library/fn/object/assign\");","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=203535c6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=203535c6&lang=scss&scoped=true&\""],"sourceRoot":""}