(function(t){function e(e){for(var s,a,o=e[0],c=e[1],u=e[2],l=0,f=[];l<o.length;l++)a=o[l],i[a]&&f.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,a=1;a<n.length;a++){var o=n[a];0!==i[o]&&(s=!1)}s&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var s={},a={app:0},i={app:0},r=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-1ca8c607":"6c985830","chunk-7a7aaba7":"25d53063","chunk-88f04b70":"280919d7"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-1ca8c607":1,"chunk-7a7aaba7":1,"chunk-88f04b70":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var s="css/"+({}[t]||t)+"."+{"chunk-1ca8c607":"1e3e10cc","chunk-7a7aaba7":"e735a9ff","chunk-88f04b70":"88b1313f"}[t]+".css",i=c.p+s,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var u=r[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===s||l===i))return e()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){u=f[o],l=u.getAttribute("data-href");if(l===s||l===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var s=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=s,delete a[t],d.parentNode.removeChild(d),n(r)},d.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){a[t]=0}));var s=i[t];if(0!==s)if(s)e.push(s[2]);else{var r=new Promise(function(e,n){s=i[t]=[e,n]});e.push(s[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t),u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+s+": "+a+")");r.type=s,r.request=a,n[1](r)}i[t]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(n,s,function(e){return t[e]}.bind(null,s));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1728:function(t,e,n){"use strict";var s=n("ad2f"),a=n.n(s);a.a},"20df":function(t,e,n){"use strict";var s=n("a57a"),a=n.n(s);a.a},2505:function(t,e,n){"use strict";var s=n("818e"),a=n.n(s);a.a},"33e8":function(t,e,n){},"3a5e":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loaded?t._e():n("div",{staticClass:"loading tx-main"},[n("div",[t._v("loading")]),t._l(3,function(t){return n("div",{key:t,staticClass:"dot bg-main",class:"dot"+t})})],2)},a=[],i={props:{loaded:{type:Boolean,default:!1}}},r=i,o=(n("5703"),n("2877")),c=Object(o["a"])(r,s,a,!1,null,"54ea5e7e",null);e["a"]=c.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("my-header",{staticClass:"my-header bg-main tx-light",on:{toggleBar:t.toggleSideBar}}),n("div",{staticClass:"container",style:t.stickyPolyfill()},[n("loading",{attrs:{loaded:t.loaded}}),n("router-view",{staticClass:"content"}),n("my-footer")],1),n("div",{staticClass:"fixed-container bg-dark",class:{show:t.show},on:{click:t.closeSideBar}},[n("my-sidebar",{staticClass:"sidebar bg-dark"}),n("a",{staticClass:"bottom bandage",attrs:{href:"https://github.com/timtnleeProject/vuejs-static-blog",target:"_blank"}},[t._v("vuejs-static-blog")])],1)],1)},i=[],r=n("795b"),o=n.n(r),c=(n("ac6a"),n("5df3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("h2",{staticClass:"title",on:{click:t.toHome}},[t._v(t._s(t.settings.HEADER_TITLE))]),n("div",{staticClass:"subtitle"},[t._v(t._s(t.settings.HEADER_SUBTITLE))]),n("hamburger",{staticClass:"hamburger",nativeOn:{click:function(e){t.toggleBar(e)}}})],1)}),u=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hamburger"},t._l(3,function(t){return n("div",{key:"bar"+t,staticClass:"bar bg-light"})}),0)},f=[],d={},p=d,h=(n("20df"),n("2877")),v=Object(h["a"])(p,l,f,!1,null,"d802fa24",null),g=v.exports,m={components:{Hamburger:g},data:function(){return{}},computed:{settings:function(){return this.$store.state.settings}},methods:{toHome:function(){this.$router.push("/")},toggleBar:function(t){t.stopPropagation(),this.$emit("toggleBar")}}},b=m,_=(n("2505"),Object(h["a"])(b,c,u,!1,null,"72e635ce",null)),w=_.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[n("div",{staticClass:"title"},[t._v(t._s(t.settings.HEADER_TITLE))]),n("small",{staticClass:"indent"},[t._v(t._s(t.settings.SIDEBAR_TEXT))]),t._l(t.routes,function(e){return n("router-link",{key:e.name,staticClass:"tx-light",class:{active:e.path===t.$route.path},attrs:{to:e.path}},[n("span",{staticClass:"tx"},[t._v(t._s(e.name))])])})],2)},E=[],C=n("cebc"),k=n("2f62"),T=s["a"].extend({data:function(){return{routes:[{name:"Home",path:"/"},{name:"Articles",path:"/search"},{name:"About me",path:"/about"}]}},computed:Object(C["a"])({},Object(k["b"])({settings:"settings"}))}),$=T,O=(n("6f22"),Object(h["a"])($,y,E,!1,null,"2d6efa7a",null)),x=O.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer bg-sub tx-dark"},[n("div",{staticClass:"title"},[t._v(t._s(t.settings.FOOTER_TEXT))])])},S=[],P={data:function(){return{}},computed:{settings:function(){return this.$store.state.settings}}},A=P,M=(n("cd1b"),Object(h["a"])(A,j,S,!1,null,"186effbb",null)),B=M.exports,L=n("3a5e"),H={name:"app",data:function(){return{show:!1,loaded:!1}},components:{MyHeader:w,MyFooter:B,MySidebar:x,Loading:L["a"]},created:function(){var t=this;window.console.log("[Init] Get articles' previews");var e=this.$get("./setting.json").then(function(e){t.$store.commit("setSettings",JSON.parse(e))}),n=this.$get("./list.json").then(function(e){t.$store.commit("setLists",JSON.parse(e))});o.a.all([e,n]).then(function(){return t.$getTags(),t.$getPreviews(t.$store.state.settings.HOME_MAX_PREVIEW)}).then(function(){t.loaded=!0})},methods:{stickyPolyfill:function(){return window.CSS&&CSS.supports("position","sticky")?{}:{marginTop:"60px"}},toggleSideBar:function(){this.show=!this.show},closeSideBar:function(){this.show&&(this.show=!1)}}},I=H,R=(n("5c0b"),Object(h["a"])(I,a,i,!1,null,null,null)),N=R.exports,D=(n("28a5"),n("7f7f"),n("55dd"),n("a745")),X=n.n(D),q=n("5d73"),F=n.n(q),G=n("d4cd"),V=n.n(G),W={install:function(t){t.prototype.$markdown=new V.a({breaks:!0}),t.prototype.$get=function(t){return new o.a(function(e,n){var s=new XMLHttpRequest;s.open("GET",t),s.onreadystatechange=function(){200===this.status&&4===this.readyState?e(this.responseText):4===this.readyState&&n("Fetching ".concat(t," failed"))},s.send()})},t.prototype.$getArticles=function(t){var e=function(t){return new o.a(function(e,n){var s=new XMLHttpRequest;s.open("GET","./doc/".concat(t,".md")),s.onreadystatechange=function(){200===this.status&&4===this.readyState?e({name:t,content:this.responseText}):4===this.readyState&&n()},s.send()})},n=[],s=!0,a=!1,i=void 0;try{for(var r,c=F()(t);!(s=(r=c.next()).done);s=!0){var u=r.value;n.push(e(u))}}catch(l){a=!0,i=l}finally{try{s||null==c.return||c.return()}finally{if(a)throw i}}return o.a.all(n)},t.prototype.$getTags=function(){var t={},e=[];for(var n in this.$store.state.lists.articles.forEach(function(e){X()(e.tags)&&e.tags.forEach(function(e){void 0===t[e]&&(t[e]=0),t[e]+=1})}),t)e.push(n);this.$store.commit("setTags",e),this.$store.commit("setTagsCount",t)},t.prototype.$getPreviews=function(t){var e=this,n={},s=this.$store.state.previews.length,a=this.$store.state.previews.length+t,i=this.$store.state.lists.articles.sort(function(t,e){return Boolean(e.pinned)-Boolean(t.pinned)}).map(function(t){if(n[t.name])throw"article list name conflict.";return n[t.name]=t,t.name}).slice(s,a);this.$getArticles(i).then(function(t){e.$store.commit("addPreviews",t.map(function(t){var s=t.content.split("\n").filter(function(t){return""!=t.trim()}),a=s.slice(1,1+e.$store.state.settings.PREVIEW_LINE).join("\n"),i=n[t.name],r=i.tags||[];return{name:t.name,pinned:i.pinned,image:i.image,tags:r.sort(),content:e.$markdown.render(a)+"</br>",date:new Date(i.date),title:s[0].slice(-(s[0].length-2))}}))}).catch(function(t){window.console.error(t)})}}},J=n("ce19"),U=n("8c4f"),Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("banner"),n("div",{staticClass:"center-max-view"},[n("div",[t.pinned_previews.length>0?n("div",[n("h2",{staticClass:"h tx-dark"},[t._v(t._s(t.settings.HOME_PINNED_ARTICLE_TEXT))]),n("my-previews",{attrs:{max:t.settings.HOME_MAX_PREVIEW,previews:t.pinned_previews}})],1):t._e(),t.normal_previews.length>0?n("div",[n("h2",{staticClass:"h tx-dark"},[t._v(t._s(t.settings.HOME_ARTICLE_TEXT))]),n("my-previews",{attrs:{max:t.settings.HOME_MAX_PREVIEW,previews:t.normal_previews}})],1):t._e(),n("router-link",{staticClass:"block last",attrs:{to:"/search"}},[t._v("> more articles")])],1)])],1)},K=[],Q=n("ed81"),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"banner"},[n("img",{attrs:{src:t.settings.BANNER_IMAGE,alt:"",srcset:""}}),n("h3",{staticClass:"quote"},[n("pre",[t._v(t._s(t.settings.QUOTE))])])])},Z=[],tt={computed:{settings:function(){return this.$store.state.settings}}},et=tt,nt=(n("6704"),Object(h["a"])(et,z,Z,!1,null,"18fa4425",null)),st=nt.exports,at={components:{Banner:st,MyPreviews:Q["a"]},computed:Object(C["a"])({pinned_previews:function(){return this.sorted_previews.filter(function(t){return t.pinned})},normal_previews:function(){return this.sorted_previews.filter(function(t){return!t.pinned})},sorted_previews:function(){return this.previews.slice().sort(function(t,e){return e.date.getTime()-t.date.getTime()})}},Object(k["b"])({previews:"previews",settings:"settings"}))},it=at,rt=(n("1728"),Object(h["a"])(it,Y,K,!1,null,"2f255862",null)),ot=rt.exports;s["a"].use(U["a"]);var ct=function(){return n.e("chunk-7a7aaba7").then(n.bind(null,"3ad6"))},ut=function(){return n.e("chunk-88f04b70").then(n.bind(null,"2d3b"))},lt=function(){return n.e("chunk-1ca8c607").then(n.bind(null,"f820"))},ft=[{path:"/",component:ot,meta:{title:"Home"}},{path:"/article/:name",component:ct,meta:{title:"Article"}},{path:"/search",component:ut,meta:{title:"Articles"}},{path:"/about",component:lt,meta:{title:"About"}}],dt=new U["a"]({routes:ft,scrollBehavior:function(){return{x:0,y:0}}});dt.beforeEach(function(t,e,n){document.title="Timtnlee's Blog - ".concat(t.meta.title),n()});var pt=dt;s["a"].use(k["a"]);var ht=new k["a"].Store({state:{previews:[],tags:[],lists:{},settings:{},tags_count:{}},mutations:{setPreviews:function(t,e){t.previews=e},addPreviews:function(t,e){t.previews=t.previews.concat(e)},setTags:function(t,e){t.tags=e},setLists:function(t,e){t.lists=e},setSettings:function(t,e){t.settings=e},setTagsCount:function(t,e){t.tags_count=e}}}),vt=ht;n("99f6");window.NodeList.prototype.forEach||(window.NodeList.prototype.forEach=function(t){for(var e=0;e<this.length;e++)t(this[e])}),void 0===window.scrollY&&window.addEventListener("scroll",function(){window.scrollY=window.pageYOffset}),s["a"].config.productionTip=!1,s["a"].use(W),s["a"].use(J["a"]),new s["a"]({render:function(t){return t(N)},router:pt,store:vt}).$mount("#app")},5703:function(t,e,n){"use strict";var s=n("c744"),a=n.n(s);a.a},"5c0b":function(t,e,n){"use strict";var s=n("5e27"),a=n.n(s);a.a},"5e27":function(t,e,n){},6704:function(t,e,n){"use strict";var s=n("33e8"),a=n.n(s);a.a},"6acb":function(t,e,n){},"6f22":function(t,e,n){"use strict";var s=n("95fe"),a=n.n(s);a.a},"818e":function(t,e,n){},"95fe":function(t,e,n){},"99f6":function(t,e,n){},a57a:function(t,e,n){},ad2f:function(t,e,n){},c009:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag",on:{click:function(e){e.stopPropagation(),t.linkto()}}},[n("div",{staticClass:"dot"}),n("div",{staticClass:"tag-name"},[t._v(t._s(t.tag)+" ("+t._s(t.$store.state.tags_count[t.tag])+")")])])},a=[],i={props:["tag"],methods:{linkto:function(){var t={};t[this.tag]=!0,this.$router.push({path:"/search",query:t})}}},r=i,o=n("2877"),c=Object(o["a"])(r,s,a,!1,null,null,null);e["a"]=c.exports},c744:function(t,e,n){},cd1b:function(t,e,n){"use strict";var s=n("fb41"),a=n.n(s);a.a},ea7b:function(t,e,n){"use strict";var s=n("6acb"),a=n.n(s);a.a},ed81:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},t._l(t.previews_cut,function(e,s){return n("div",{key:"preview"+s,staticClass:"preview",on:{click:function(n){t.linkto({path:"/article/"+e.name})}}},[n("div",{staticClass:"prev-img"},[n("img",{attrs:{src:e.image||t.settings.DEFAULT_PREVIEW_IMAGE,alt:"not found"}})]),n("div",{staticClass:"prev-art"},[n("h3",{staticClass:"title b"},[t._v(t._s(e.title)),e.pinned?n("img",{staticClass:"pinned",attrs:{src:"icons/pinned.png"}}):t._e()]),n("div",{staticClass:"prev-area block"},[n("div",{staticClass:"plan-text line",domProps:{innerHTML:t._s(e.content)}}),t._m(0,!0)]),n("div",{staticClass:"line"},[n("div",{staticClass:"line b"},[t._v("date: "+t._s(t.preview_dates[s]))])]),n("div",{staticClass:"tags-container line"},[n("div",{staticClass:"line b"},[t._v("tags: ")]),t._l(e.tags,function(t){return n("tag",{key:t,staticClass:"line",attrs:{tag:t}})})],2)])])}),0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inner-block line"},[n("div",{staticClass:"cover"})])}],i=n("cebc"),r=n("2f62"),o=n("c009"),c={props:["max","previews"],components:{Tag:o["a"]},computed:Object(i["a"])({preview_dates:function(){return this.previews?this.previews.map(function(t){var e=t.date;return"".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate())}):[]},previews_cut:function(){return this.previews.slice(0,this.max)}},Object(r["b"])({lists:"lists",settings:"settings"})),methods:{linkto:function(t){this.$router.push(t)}}},u=c,l=(n("ea7b"),n("2877")),f=Object(l["a"])(u,s,a,!1,null,"ccfb1ad2",null);e["a"]=f.exports},fb41:function(t,e,n){}});
//# sourceMappingURL=app.dcccb6f0.js.map